---
title: 基于Docker的开发环境、测试环境和生产环境的持续集成和持续交付
categories: 
- 自动化构建
tags: 
- devops
---

> 在整个做微服务的过程中，运维与测试相关的能力是积淀。因为如果你的运维和测试能力跟不上，在你服务做拆分以后，部署、测试都会面临特别大的压力。我们整个“运维+测试”两个团队才6个人，如果服务从原来比如单体应用只有4个，到现在40多个，而没有一个很好的，比如持续集成与部署相关设施的，那绝对是灾难性的。刚才说到的那些日志搜集都要搜集起来，有一个服务之间的调用关系的调用链的管理，能帮我快速的定位一些问题。
<!-- more -->
![image.png](https://upload-images.jianshu.io/upload_images/5189695-6c33f5f5aa01f7c4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
- 代码编写，完成代码功能模块。
- 构建，实现功能模块构建测试，保证该模块当前的可用状态。
- 测试，单元测试和集成测试，保证各个功能模块的完整性和稳定性。
- 交付，建立在CI基础上，让软件的构建、测试与最终版本变得更快以及更频繁。
- 部署，是在持续交付的基础上，把部署到生产环境的过程自动化。
- 回滚，一旦当前版本发生问题，就要回滚到上一个版本的构建结果。最简单的做法就是修改一下符号链接，指向上一个版本的目录
